# Скелет проекта на Битрикс

Данный скелет является готовой стуктурой для начала разработки проекта на Битрикс: Управление сайтом.

## Шаги установки
1. **Установить Битрикс: Управление сайтом.** Во время установки дойти до шага "Выбор решения для установки" и закройте страницу. После этого удалите файл index.php.
2. **Стянуть скелет в корень сайта.** В репозитории уже лежит новый index.php.
3. **Установить Composer.** С помощью консоли зайдите в local и установите содержимое composer.json
    ```
    cd /local/
    composer install
    ```
4. **Установить шаблон сайта.** Шаблон сайта устанавливается по ссылке `ДОМЕН_САЙТА/bitrix/admin/site_edit.php?LID=s1`
5. **Установить модуль миграций.** Модуль миграций устанавливается по ссылке `ДОМЕН_САЙТА/bitrix/admin/partner_modules.php`
6. **Установка завершена**

## Структура проекта

📦 Корень сайта/  
│  
├── 📁 api/                          # Методы взаимодействия  
│   └── 📁 books/                    # Группировка методов по смыслу  
│       ├── 📄 add.php               # Метод добавления книги  
│       ├── 📄 delete.php            # Метод удаления книги  
│       ├── 📄 getList.php           # Метод получения списка книг  
│       └── 📄 update.php            # Метод обновления книги    
│  
├── 📁 bitrix/                       # Ядро Битрикс   
│  
├── 📁 local/                        # Кастомная логика  
│   │  
│   ├── 📁 classes/                  # Бизнес-логика  
│   │   │  
│   │   ├── 📁 Agents/               # Пользовательские агенты  
│   │   │   └── 📄 SomeAgent.php     # Пример агента  
│   │   │  
│   │   ├── 📁 Helpers/              # Хелперы для сокращения кода в сервисах и т.п.  
│   │   │   ├── 📄 PaginationHelper.php  # Хелпер для получения и установки пагинации  
│   │   │   └── 📄 RequestHelper.php     # Хелпер для запросов  
│   │   │  
│   │   ├── 📁 Models/               # Описание моделей  
│   │   │   ├── 📄 BookTable.php     # Описание модели "Книги"  
│   │   │   └── 📄 SchoolTable.php   # Описание модели "Школы"  
│   │   │  
│   │   ├── 📁 OpenAPI/              # Данные для автогенерации swagger  
│   │   │   │  
│   │   │   ├── 📁 Schemas/          # Директория для хранения схем  
│   │   │   │   │  
│   │   │   │   ├── 📁 Books/        # Описание схем для книг    
│   │   │   │   │   ├── 📄 addBookSchema.php       # Схема для добавления книги   
│   │   │   │   │   ├── 📄 deleteBookSchema.php    # Схема для удаления книги   
│   │   │   │   │   └── 📄 updateBookSchema.php    # Схема для обновления книги   
│   │   │   │   │   
│   │   │   │   ├── 📁 Nav/          # Описание схем для пагинации  
│   │   │   │   │   └── 📄 navSchema.php           # Описание схемы для пагинации  
│   │   │   │   │  
│   │   │   │   └── 📁 Responses/    # Схемы для стандартизированных ответов  
│   │   │   │       ├── 📄 EmptyResponse.php       # Абстрактный класс для описания ответа  
│   │   │   │       ├── 📄 SuccessEmpty.php        # Схема 200 ответа  
│   │   │   │       ├── 📄 SuccessCreate.php       # Схема 201 ответа  
│   │   │   │       ├── 📄 BadRequest.php          # Схема 400 ответа  
│   │   │   │       ├── 📄 Unauthorized.php        # Схема 401 ответа  
│   │   │   │       ├── 📄 Forbidden.php           # Схема 403 ответа  
│   │   │   │       └── 📄 NotFound.php            # Схема 404 ответа  
│   │   │   │  
│   │   │   └── 📄 OpenAPI.php       # Основная конфигурация для Swagger  
│   │   │  
│   │   ├── 📁 Services/             # Хранение бизнес-логики  
│   │   │   └── 📄 BookService.php   # Бизнес-логика книг  
│   │   │  
│   │   └── 📁 Users/                # Классы для каждой роли пользователя  
│   │       └── 📄 User.php          # Стартовый класс пользователя  
│   │  
│   ├── 📁 components/               # Хранение компонентов  
│   │   └── 📁 webizi/               # Партнер  
│   │       └── 📁 templateComponent/ # Наименование компонента  
│   │           ├── 📁 templates/     # Шаблоны компонента  
│   │           │   └── 📁 nameOfTemplate/ # Наименование шаблона компонента  
│   │           │       └── 📄 template.php # Шаблон компонента  
│   │           │    
│   │           ├── 📄 .description.php  # Описание для визуального редактора - содержит метаданные и параметры компонента для отображения в административной панели  
│   │           ├── 📄 .parameters.php   # Входящие параметры для компонента - определяет настройки, которые можно менять в визуальном редакторе  
│   │           └── 📄 component.php     # Логика компонента - основной файл с PHP-кодом компонента  
│   │  
│   ├── 📁 modules/                  # Хранилище модулей  
│   │  
│   ├── 📁 php_interface/           # Ядро кастомной логики, выполняется при каждом запуске  
│   │   └── 📄 init.php             # Пользовательский инит - инициализирует кастомные функции и обработчики событий  
│   │  
│   └── 📁 templates/               # Шаблоны сайта  
│       │  
│       ├── 📁 bitrixTemplate/      # Шаблон для работы с битрикс  
│       │   ├── 📄 header.php       # Верхняя часть сайта (шапка) - содержит логотип, меню, мета-теги и начальные HTML-структуры  
│       │   ├── 📄 footer.php       # Нижняя часть сайта (подвал) - содержит контактную информацию, копирайты и скрипты перед закрытием body  
│       │   └── 📄 .description.php # Описание шаблона - содержит настройки и параметры шаблона для административной панели Битрикс  
│       │  
│       └── 📁 vueTemplate/         # Шаблон для работы с Vue  
│           ├── 📄 header.php       # Верхняя часть сайта для Vue-приложения - инициализация Vue, загрузка стилей и мета-информации  
│           ├── 📄 footer.php       # Нижняя часть сайта для Vue - подключение Vue-компонентов, скриптов и финализация приложения  
│           └── 📄 .description.php # Описание Vue-шаблона - конфигурация для работы с Single Page Application и API-интеграциями  
│  
├── 📁 swagger/                     # Отображение сваггера  
│   ├── 📄 generate.php             # Файл для сборки данных с файлов - скрипт генерации OpenAPI спецификации из аннотаций   
│   ├── 📄 openapi.json             # Результат работы сборки - документация API в JSON формате   
│   └── 📄 openapi.yaml             # Результат работы сборки - документация API в YAML формате   
│  
├── 📄 composer.json                # Конфигурация composer - зависимости и настройки проекта  
├── 📄 restore.php                  # Взлом Битрикс для бесконечной лицензии - служебный скрипт для обхода лицензионных ограничений  
├── 📄 index.php                    # Главная страница - точка входа для всего сайта  
└── 📄 .gitignore                   # Файл с определением файлов для Git - исключает системные и конфиденциальные файлы из контроля версий  